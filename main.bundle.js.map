{"version":3,"sources":["webpack:///./~/n3/lib ^\\.\\/N3.*$","webpack:///./src/app/app.component.html","webpack:///vertx (ignored)","webpack:///util (ignored)","webpack:///util (ignored)?81df","webpack:///./src/app/dymo.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/visualization.component.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AC9BA,iVAAiV,QAAQ,GAAG,sBAAsB,2GAA2G,OAAO,mR;;;;;;;ACApe,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA2C;AAEZ;AACS;AACZ;AACgB;AACI;AAIhD;IAgBE;QAZQ,uBAAkB,GAAe;YACvC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAClC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YAClC,IAAI,EAAE,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC;YAC/B,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;YACjC,MAAM,EAAE,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC;YACnC,KAAK,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;SAClC,CAAC;IAKa,CAAC;IAJR,kCAAY,GAApB,UAAqB,IAAI;QACvB,OAAO,EAAC,IAAI,EAAC,IAAI,EAAE,KAAK,EAAC,EAAC,IAAI,EAAC,QAAQ,EAAE,GAAG,EAAC,IAAI,EAAE,GAAG,EAAC,CAAC,EAAE,GAAG,EAAC,CAAC,EAAC,EAAE,GAAG,EAAC,KAAK,EAAC,CAAC;IAC/E,CAAC;IAID,0BAAI,GAAJ;QACE,IAAI,CAAC,OAAO,GAAG,IAAI,8DAAiB,CAAC,KAAK,EAAE,IAAI,EAAE,GAAG,EAAE,CAAC,EAAE,GAAG,CAAC,CAAC;QAC/D,OAAO,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,8EAA8E,CAAC,CAAC;IAC3G,CAAC;IAED,mCAAa,GAAb;QAAA,iBAEC;QADC,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,gBAAgB,EAAE,CAAC,GAAG,CAAC,YAAE,IAAI,YAAI,CAAC,gBAAgB,CAAC,EAAE,CAAC,EAAzB,CAAyB,CAAC,CAAC;IAC/F,CAAC;IAED,kCAAY,GAAZ;QACE,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,YAAY,CAAC,+CAAI,CAAC,IAAI,EAAE,+CAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IACpF,CAAC;IAED,8BAAQ,GAAR,UAAS,OAAe;QACtB,OAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,OAAO,GAAC,WAAW,CAAC,CAAC;IACpD,CAAC;IAED,mCAAa,GAAb;QACE,OAAO,IAAI,CAAC,OAAO,CAAC,cAAc,EAAE,CAAC,aAAa,EAAE,CAAC;IACvD,CAAC;IAED,qCAAe,GAAf;QACE,OAAO,IAAI,CAAC,OAAO,CAAC,kBAAkB,EAAE,sBAAoB;IAC9D,CAAC;IAED,kCAAY,GAAZ;QACE,IAAI,CAAC,OAAO,CAAC,YAAY,EAAE,CAAC;IAC9B,CAAC;IAED,sCAAgB,GAAhB,UAAiB,IAAY;QAC3B,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC;IAC5C,CAAC;IAED,iCAAW,GAAX;QACE,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;IAC7B,CAAC;IAEO,sCAAgB,GAAxB,UAAyB,QAAQ;QAC/B,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;QACrC,IAAI,SAAS,GAAG,6CAAO,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;QACjD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;QACvD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;QACvD,oDAAoD;QACpD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,eAAe,EAAE,QAAQ,CAAC,CAAC;QAC1D,wDAAwD;QACxD,sDAAsD;QACtD,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,KAAK,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;QACrD;;qEAE6D;QAC7D,OAAO,SAAS,CAAC;IACnB,CAAC;IAEO,8BAAQ,GAAhB,UAAiB,SAAS,EAAE,WAAW,EAAE,QAAQ;QAC/C,QAAQ,GAAG,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,IAAI,KAAK,WAAW,EAAtB,CAAsB,CAAC,CAAC;QACxD,IAAI,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YACvB,SAAS,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;SAC/B;IACH,CAAC;IA5EU,WAAW;QADvB,wFAAU,EAAE;;OACA,WAAW,CA8EvB;IAAD,kBAAC;CAAA;AA9EuB;;;;;;;;ACVxB;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA;;;;;;;;;;;;;;ACN+C;AAC4B;AAE9B;AACY;AAEzD,IAAI,8EAAW,CAAC,UAAU,EAAE;IAC1B,4FAAc,EAAE,CAAC;CAClB;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVF;AACtB;AACiB;AAI7C,IAAI,KAAK,GAAG;IACV,OAAO,EAAE,0CAA0C;IACnD,MAAM,EAAE,qCAAqC;IAC7C,OAAO,EAAE,0CAA0C;IACnD,OAAO,EAAE,qCAAqC;IAC9C,UAAU,EAAE,0BAA0B;IACtC,QAAQ,EAAE,kBAAkB;IAC5B,QAAQ,EAAE,mCAAmC;IAC7C,SAAS,EAAE,uCAAuC;IAClD,MAAM,EAAE,4CAA4C;CACrD;AAOD;IASE,sBAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAPpC,mBAAc,GAAG,eAAe,GAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QAK/C,iBAAY,GAAG,CAAC,CAAC,CAAC,CAAC;IAEqB,CAAC;IAE3C,+BAAQ,GAAd;;;;;4BACE,qBAAM,IAAI,CAAC,WAAW,CAAC,IAAI,EAAE;;wBAA7B,SAA6B,CAAC;wBAC9B,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,sBAAY,IAAK,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC,MAAI,CAAC,SAAS,GAAG,YAAY,GAAC,CAAC,CAAC;wBACrH,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,SAAS,CAAC,uBAAa,IAAI,YAAI,CAAC,UAAU,GAAG,aAAa,EAA/B,CAA+B,CAAC,CAAC;wBAC7F,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC,SAAS,CAAC,sBAAY,IAAI,YAAI,CAAC,YAAY,GAAG,YAAY,EAAhC,CAAgC,CAAC,CAAC;wBAC/F,qBAAM,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,IAAI,CAAC,cAAc,CAAC;;wBAApD,SAAoD,CAAC;wBACrD,8BAA8B;wBAC9B,IAAI,CAAC,UAAU,GAAG,8CAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,aAAa,EAAE,CAAC,CAAC;wBAC7D,+BAA+B;wBAC/B,IAAI,CAAC,UAAU,CAAC,OAAO,CAAC,UAAC,CAAC,EAAC,CAAC,IAAK,QAAC,CAAC,GAAG,GAAG,CAAC,IAAI,KAAI,CAAC,UAAU,CAAC,MAAM,GAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAA7C,CAA6C,CAAC,CAAC;;;;;KACjF;IAED;;;;;OAKG;IAEH,2BAAI,GAAJ;QACE,IAAI,CAAC,WAAW,CAAC,YAAY,EAAE,CAAC;IAClC,CAAC;IAED,2BAAI,GAAJ;QACE,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IACjC,CAAC;;IApCU,YAAY;QALxB,uFAAS,CAAC;YACT,QAAQ,EAAE,UAAU;YACpB,mCAAmC;YACnC,SAAS,EAAE,CAAE,kEAAW,CAAE;SAC3B,CAAC;6DAUiC,kEAAW,oBAAX,kEAAW;OATjC,YAAY,CAsCxB;IAAD,mBAAC;CAAA;AAtCwB;;;;;;;;;;;;;;;;;;;;;;ACvBiC;AACjB;AACI;AACF;AAEI;AACoB;AAenE;IAAA;IAAyB,CAAC;IAAb,SAAS;QAbrB,sFAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,oEAAY;gBACZ,wFAAsB;aACvB;YACD,OAAO,EAAE;gBACP,gFAAa;gBACb,mEAAW;gBACX,iEAAU;aACX;YACD,SAAS,EAAE,EAAE;YACb,SAAS,EAAE,CAAE,oEAAY,CAAE;SAC5B,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;ACrBoF;AAC7D;AACmC;AAC1C;AAOtC;IAOE,gCAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAI,CAAC;IAEjD,yCAAQ,GAAR;QACE,IAAI,CAAC,IAAI,EAAE,CAAC;IACd,CAAC;IAEO,qCAAI,GAAZ;QACE,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE;YACvB,IAAI,CAAC,aAAa,GAAG,IAAI,8DAAS,CAAC,IAAI,CAAC,gBAAgB,CAAC,aAAa,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;SAClG;IACH,CAAC;IAED,4CAAW,GAAX,UAAY,OAAsB;QAChC,IAAI,CAAC,IAAI,EAAE,CAAC;QACZ,IAAI,OAAO,CAAC,MAAM,CAAC,EAAE;YACnB,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SAC1C;QACD,IAAI,OAAO,CAAC,YAAY,CAAC,EAAE;YACzB,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC,YAAY,CAAC,CAAC;SACzE;QACD,IAAI,OAAO,CAAC,aAAa,CAAC,EAAE;YAC1B,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,OAAO,CAAC,aAAa,CAAC,CAAC,aAAa,EAAE,OAAO,CAAC,aAAa,CAAC,CAAC,YAAY,CAAC,CAAC;SAC7G;IACH,CAAC;IAED,wCAAO,GAAP,UAAQ,IAAI;QACV,IAAI,CAAC,WAAW,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,yCAAQ,GAAR,UAAS,KAAK;QACZ,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;IAClC,CAAC;;IArCqB;QAArB,uFAAS,CAAC,SAAS,CAAC;sDAA2B,iEAAU,oBAAV,iEAAU;oEAAC;IAClD;QAAR,mFAAK,EAAE;sDAAe,oDAAS,oBAAT,oDAAS;wDAAC;IACxB;QAAR,mFAAK,EAAE;sDAAqB,+DAAU,oBAAV,+DAAU;8DAAC;IAC/B;QAAR,mFAAK,EAAE;sDAAsB,KAAK,oBAAL,KAAK;+DAAM;IAJ9B,sBAAsB;QALlC,uFAAS,CAAC;YACT,QAAQ,EAAE,eAAe;YACzB,QAAQ,EAAE,4EAA4E;YACtF,SAAS,EAAE,EAAE;SACd,CAAC;6DAQiC,kEAAW,oBAAX,kEAAW;OAPjC,sBAAsB,CAwClC;IAAD,6BAAC;CAAA;AAxCkC;;;;;;;;;ACVnC;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEzE,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC","file":"main.bundle.js","sourcesContent":["var map = {\n\t\"./N3Lexer\": 433,\n\t\"./N3Lexer.js\": 433,\n\t\"./N3Parser\": 434,\n\t\"./N3Parser.js\": 434,\n\t\"./N3Store\": 703,\n\t\"./N3Store.js\": 703,\n\t\"./N3StreamParser\": 704,\n\t\"./N3StreamParser.js\": 704,\n\t\"./N3StreamWriter\": 705,\n\t\"./N3StreamWriter.js\": 705,\n\t\"./N3Util\": 435,\n\t\"./N3Util.js\": 435,\n\t\"./N3Writer\": 436,\n\t\"./N3Writer.js\": 436\n};\nfunction webpackContext(req) {\n\treturn __webpack_require__(webpackContextResolve(req));\n};\nfunction webpackContextResolve(req) {\n\tvar id = map[req];\n\tif(!(id + 1)) // check for number\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\treturn id;\n};\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 1743;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/n3/lib ^\\.\\/N3.*$\n// module id = 1743\n// module chunks = 1","module.exports = \"<h1>\\n  Performance Deformations\\n</h1>\\n<button (click)=\\\"play()\\\">‚Üê</button>\\nBach, Well-Tempered Clavier, Prelude and Fugue in C-sharp major, BWV 848, Lou\\n<button (click)=\\\"play()\\\">Play</button>\\n<button (click)=\\\"stop()\\\">Stop</button>\\n<div *ngFor=\\\"let u of uiControls\\\">\\n  <label class=\\\"left\\\" for=\\\"hey\\\">{{u.name}} {{u.uiValue.toFixed(2)}}</label>\\n  <span class=\\\"left2\\\"><input name=\\\"hey\\\" type=\\\"range\\\" class=\\\"fullwidth\\\" min=\\\"0\\\" max=\\\"{{u.max}}\\\" step=\\\".01\\\" [(ngModel)]=\\\"u.uiValue\\\" (input)=\\\"u.update()\\\"></span>\\n</div>\\n<ul>\\n<li *ngFor=\\\"let i of visualsCount\\\">\\n  <visualization *ngIf=\\\"dymoGraph\\\" [data]=\\\"dymoGraph\\\" [viewConfig]=\\\"viewConfig\\\" [playingUris]=\\\"playingDymos\\\"></visualization>\\n</li>\\n</ul>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 1746\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// vertx (ignored)\n// module id = 2060\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 2061\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// util (ignored)\n// module id = 2062\n// module chunks = 1","import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/operator/map';\nimport 'rxjs/add/operator/debounceTime';\nimport * as _ from 'lodash';\nimport { JsonGraph, uris } from 'dymo-core';\nimport { DymoPlayerManager } from 'dymo-player';\nimport { ViewConfig, ViewConfigDim } from 'music-visualization';\n\n@Injectable()\nexport class DymoService {\n\n  private manager: DymoPlayerManager;\n\n  private viewConfigTemplate: ViewConfig = {\n    xAxis: this.createConfig(\"x-axis\"),\n    yAxis: this.createConfig(\"y-axis\"),\n    size: this.createConfig(\"size\"),\n    width: this.createConfig(\"width\"),\n    height: this.createConfig(\"height\"),\n    color: this.createConfig(\"color\")\n  };\n  private createConfig(name): ViewConfigDim {\n    return {name:name, param:{name:\"random\", uri:null, min:0, max:1}, log:false};\n  }\n\n  constructor() {}\n\n  init(): Promise<any> {\n    this.manager = new DymoPlayerManager(false, true, 0.3, 3, 0.1);\n    return this.manager.init('https://raw.githubusercontent.com/dynamic-music/dymo-core/master/ontologies/');\n  }\n\n  getViewConfig(): Observable<ViewConfig> {\n    return this.manager.getDymoManager().getAttributeInfo().map(fs => this.adjustViewConfig(fs));\n  }\n\n  getDymoGraph(): Observable<JsonGraph> {\n    return this.manager.getDymoManager().getJsonGraph(uris.DYMO, uris.HAS_PART, true);\n  }\n\n  loadDymo(dirPath: string): Promise<any> {\n    return this.manager.loadDymo(dirPath+'save.json');\n  }\n\n  getUIControls() {\n    return this.manager.getDymoManager().getUIControls();\n  }\n\n  getPlayingDymos(): Observable<string[]> {\n    return this.manager.getPlayingDymoUris()//.debounceTime(50);\n  }\n\n  startPlaying(): void {\n    this.manager.startPlaying();\n  }\n\n  startPlayingDymo(dymo: Object): void {\n    this.manager.startPlayingUri(dymo[\"@id\"]);\n  }\n\n  stopPlaying(): void {\n    this.manager.stopPlaying();\n  }\n\n  private adjustViewConfig(features): ViewConfig {\n    console.log(JSON.stringify(features))\n    let newConfig = _.clone(this.viewConfigTemplate);\n    this.setParam(newConfig.xAxis, \"scoreOnset\", features);\n    this.setParam(newConfig.yAxis, \"scorePitch\", features);\n    //this.setParam(newConfig.yAxis, \"level\", features);\n    this.setParam(newConfig.width, \"scoreDuration\", features);\n    //this.setParam(newConfig.height, \"duration\", features);\n    //this.setParam(newConfig.size, \"duration\", features);\n    this.setParam(newConfig.color, \"velocity\", features);\n    /*this.setParam(newConfig.yAxis, \"scoreOnset\", features);\n    this.setParam(newConfig.width, \"duration\", features);\n    this.setParam(newConfig.height, \"scoreDuration\", features);*/\n    return newConfig;\n  }\n\n  private setParam(viewParam, featureName, features) {\n    features = features.filter(f => f.name === featureName);\n    if (features.length > 0) {\n      viewParam.param = features[0];\n    }\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/dymo.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 824;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 824\n// module chunks = 1","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { Component, OnInit } from '@angular/core';\nimport * as _ from 'lodash';\nimport { DymoService } from './dymo.service';\nimport { ViewConfig } from 'music-visualization';\nimport { JsonGraph } from 'dymo-core';\n\nvar PERFS = {\n  \"schub\": \"Schubert - Op142No3/Kim06XP_zerooffset2/\",\n  \"bach\": \"data_out_pruned/Lou01XP_zerooffset/\",\n  \"bach2\": \"data_out_pruned/Mizumoto03XP_zerooffset/\",\n  \"bach3\": \"data_out_pruned/Lee01XP_zerooffset/\",\n  \"bachlong\": \"data_out_pruned/LouLong/\",\n  \"double\": \"data_out_pruned/\",\n  \"chopin\": \"Chopin - Op23/Kim04XP_zerooffset/\",\n  \"chopin2\": \"Chopin - Op10No4/Kurz03XP_zerooffset/\",\n  \"beet\": \"Beethoven - Op53-1/Shychko02XP_zerooffset/\"\n}\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  providers: [ DymoService ]\n})\nexport class AppComponent implements OnInit {\n\n  private performanceDir = 'performances/'+PERFS[\"bach\"];\n  private dymoGraph: JsonGraph;\n  private viewConfig: ViewConfig;\n  private playingDymos: string[];\n  private uiControls;\n  private visualsCount = [1];\n\n  constructor(private dymoService: DymoService) { }\n\n  async ngOnInit() {\n    await this.dymoService.init();\n    this.dymoService.getDymoGraph().subscribe(updatedGraph => {console.log(updatedGraph);this.dymoGraph = updatedGraph});\n    this.dymoService.getViewConfig().subscribe(updatedConfig => this.viewConfig = updatedConfig);\n    this.dymoService.getPlayingDymos().subscribe(updatedDymos => this.playingDymos = updatedDymos);\n    await this.dymoService.loadDymo(this.performanceDir);\n    //console.log(\"LOADING DONE!\")\n    this.uiControls = _.values(this.dymoService.getUIControls());\n    //set max values for sliders...\n    this.uiControls.forEach((c,i) => c.max = i == this.uiControls.length-1 ? 2 : 3);\n  }\n\n  /*addDymo(filename: string): Promise<string> {\n    let audioPath = this.featureService.getAudiofilePath(filename);\n    let featurePaths = this.featureService.getFeatureFilenames(filename);\n    return Promise.all([audioPath, featurePaths, this.dymoService.isReady()])\n      .then(paths => this.dymoService.addDymo(paths[0], paths[1]))\n  }*/\n\n  play(): void {\n    this.dymoService.startPlaying();\n  }\n\n  stop(): void {\n    this.dymoService.stopPlaying();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FormsModule } from '@angular/forms';\nimport { HttpModule } from '@angular/http';\n\nimport { AppComponent } from './app.component';\nimport { VisualizationComponent } from './visualization.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    VisualizationComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule\n  ],\n  providers: [],\n  bootstrap: [ AppComponent ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component, OnInit, OnChanges, SimpleChanges, Input, ViewChild, ElementRef } from '@angular/core';\nimport { DymoService } from './dymo.service';\nimport { MusicVisualization, PianoRoll, ViewConfig } from 'music-visualization';\nimport { JsonGraph } from 'dymo-core';\n\n@Component({\n  selector: 'visualization',\n  template: '<div class=\"d3-visuals\" #visuals (window:resize)=\"onResize($event)\"></div>',\n  providers: []\n})\nexport class VisualizationComponent implements OnInit, OnChanges {\n  @ViewChild('visuals') private visualsContainer: ElementRef;\n  @Input() private data: JsonGraph;\n  @Input() private viewConfig: ViewConfig;\n  @Input() private playingUris: Array<any>;\n  private visualization: MusicVisualization;\n\n  constructor(private dymoService: DymoService) { }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  private init() {\n    if (!this.visualization) {\n      this.visualization = new PianoRoll(this.visualsContainer.nativeElement, this.onClick.bind(this));\n    }\n  }\n\n  ngOnChanges(changes: SimpleChanges) {\n    this.init();\n    if (changes['data']) {\n      this.visualization.updateData(this.data);\n    }\n    if (changes['viewConfig']) {\n      this.visualization.updateViewConfig(changes['viewConfig'].currentValue);\n    }\n    if (changes['playingUris']) {\n      this.visualization.updatePlaying(changes['playingUris'].previousValue, changes['playingUris'].currentValue);\n    }\n  }\n\n  onClick(dymo) {\n    this.dymoService.startPlayingDymo(dymo);\n  }\n\n  onResize(event) {\n    this.visualization.updateSize();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/visualization.component.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}